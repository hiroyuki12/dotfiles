resources:
  # brew
  - type: package
    name: ansible
  - type: package
    name: caskroom/cask/brew-cask

  # brew cask
  - type: homebrew_cask_package
    name: alfred
  - type: homebrew_cask_package
    name: atom
  - type: homebrew_cask_package
    name: dropbox
  - type: homebrew_cask_package
    name: electron
  - type: homebrew_cask_package
    name: google-japanese-ime
  - type: homebrew_cask_package
    name: karabiner
  - type: homebrew_cask_package
    name: kobito
  - type: homebrew_cask_package
    name: skitch
  - type: homebrew_cask_package
    name: slack
  - type: homebrew_cask_package
    name: vagrant
  - type: nothing
    name: virtualbox
  - type: nothing
    name: visual-studio-code

  # defaults
  - id: ShowStatusBar_finder
    type: defaults
    domain: com.apple.finder
    key: ShowStatusBar
    value: 1
  - id: nothing
    type: defaults
    domain: com.apple.AppleMultitouchTrackpad
    key: Clicking
    value: 1
  - id: nothing
    type: defaults
    domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: Clicking
    value: 1
  - id: ShowPath_finder
    type: defaults
    domain: com.apple.finder
    key: _FXShowPosixPathInTitle
    value: 0
    notify:
      - killall_Finder

  # command
  - type: command
    script: defaults write "com.apple.dock" "orientation" -string "left"
    notiry:
      - killall_Dock

  - type: command
    script: killall Dock

  - type: karabiner
    key: repeat.wait
    value: 30 
    recheck_script: "true"

  - type: nothing
    path: /etc/sudoers
    pattern: 'hiroyuki +ALL=\(ALL\) NOPASSWD: ALL'
    line: "hiroyuki ALL=(ALL) NOPASSWD: ALL"
    insert_before: "^#includedir"
    validation_script: visudo -cf %{path}

handlers:
  - id: killall_Finder
    type: command
    script: killall Finder
  - id: killall_Dock
    type: command
    script: killall Dock
